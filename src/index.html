<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'">
  <title>東方スクールオブフィッシュ</title>
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>東方スクールオブフィッシュ</h1>
    </header>
    
    <div class="setup-panel" id="setupPanel">
      <h2>初期設定</h2>
      <div class="form-group">
        <label for="musicDir">音楽ファイルが保存されているフォルダ</label>
        <div class="input-group">
          <input type="text" id="musicDirPath" readonly placeholder="音楽ファイルが保存されているフォルダを選択してください">
          <button id="selectMusicDir">選択</button>
        </div>
      </div>
      
      <div class="form-group">
        <label for="csvFile">楽曲情報が記録されているCSVファイル</label>
        <div class="input-group">
          <input type="text" id="csvFilePath" readonly placeholder="楽曲情報が記録されているCSVファイルを選択してください">
          <button id="selectCsvFile">選択</button>
        </div>
      </div>
      
      <button id="startApp" class="primary-button" disabled>アプリケーションを開始</button>
    </div>
    
    <div class="main-panel hidden" id="mainPanel">
      <div class="mode-selector">
        <button id="listeningModeBtn" class="mode-button">聴取モード</button>
        <button id="quizModeBtn" class="mode-button">演習モード</button>
        <button id="settingsBtn" class="mode-button">設定</button>
      </div>
      
      <div id="listeningModePanel" class="mode-panel">
        <h2>聴取モード</h2>
        <div class="song-list-container">
          <div class="search-bar">
            <input type="text" id="songSearch" placeholder="曲名で検索...">
            <select id="songFilter">
              <option value="">すべて</option>
              <option value="original">初出のみ</option>
              <option value="arrange">アレンジのみ</option>
            </select>
          </div>
          <div class="song-list" id="songList">
            <!-- 曲リストがここに動的に追加されます -->
          </div>
        </div>
        
        <div class="player-container">
          <div class="now-playing">
            <h3 id="nowPlayingTitle">選択されていません</h3>
            <p id="nowPlayingDetails"></p>
          </div>
          <div class="player-controls">
            <button id="playBtn" class="control-button" disabled>再生</button>
            <button id="pauseBtn" class="control-button" disabled>一時停止</button>
            <button id="stopBtn" class="control-button" disabled>停止</button>
            <div class="volume-control">
              <label for="volumeSlider">音量:</label>
              <input type="range" id="volumeSlider" min="0" max="100" value="80">
            </div>
          </div>
        </div>
      </div>
      
      <div id="quizModePanel" class="mode-panel hidden">
        <h2>演習モード</h2>
        <div class="quiz-settings">
          <h3>出題設定</h3>
          <div class="form-group">
            <label for="quizFilter">絞り込み条件:</label>
            <select id="quizFilter">
              <option value="all">すべての曲</option>
              <option value="original">初出曲のみ</option>
              <option value="arrange">アレンジ曲のみ</option>
              <!-- 追加の絞り込み条件はJSで動的に生成 -->
            </select>
          </div>
          
          <div class="form-group">
            <label for="answerMode">回答方式:</label>
            <select id="answerMode">
              <option value="exact">完全一致</option>
              <option value="fuzzy">曖昧一致</option>
              <option value="button">ボタン回答</option>
            </select>
          </div>
          
          <button id="startQuizBtn" class="primary-button">クイズを開始</button>
        </div>
        
        <div class="quiz-container hidden" id="quizContainer">
          <div class="quiz-player">
            <button id="quizPlayBtn" class="control-button">再生</button>
            <button id="quizPauseBtn" class="control-button">一時停止</button>
            <button id="quizStopBtn" class="control-button">停止</button>
          </div>
          
          <div class="answer-input" id="textAnswerInput">
            <input type="text" id="answerText" placeholder="曲名を入力してください...">
            <button id="submitAnswerBtn">回答</button>
          </div>
          
          <div class="button-answer hidden" id="buttonAnswerInput">
            <!-- ボタン回答UIはJSで動的に生成 -->
          </div>
          
          <div class="quiz-result hidden" id="quizResult">
            <h3 id="resultStatus">正解！</h3>
            <p id="correctAnswer">正解: </p>
            <div class="song-details" id="songDetails">
              <!-- 曲の詳細情報 -->
            </div>
            <button id="nextQuestionBtn" class="primary-button">次の問題</button>
          </div>
        </div>
      </div>
      
      <div id="settingsPanel" class="mode-panel hidden">
        <h2>設定</h2>
        <!-- 設定項目 -->
        <div class="form-group">
          <label for="musicDirPathSettings">音楽ファイルディレクトリ</label>
          <div class="input-group">
            <input type="text" id="musicDirPathSettings" readonly>
            <button id="selectMusicDirSettings">変更</button>
          </div>
        </div>
        
        <div class="form-group">
          <label for="csvFilePathSettings">楽曲情報CSVファイル</label>
          <div class="input-group">
            <input type="text" id="csvFilePathSettings" readonly>
            <button id="selectCsvFileSettings">変更</button>
          </div>
        </div>
        
        <!-- その他の設定項目 -->
        
        <button id="applySettingsBtn" class="primary-button">設定を保存</button>
      </div>
    </div>
    
    <footer>
      <p>東方スクールオブフィッシュ v0.1.0</p>
    </footer>
  </div>

  <script src="renderer.js"></script>
</body>
</html>